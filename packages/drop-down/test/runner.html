<html>

<head>
    <meta charset="utf-8">
    <!-- encoding must be set for mocha's special characters to render properly -->
    <link rel="stylesheet" href="../node_modules/mocha/mocha.css" />
    <link rel="stylesheet" href="runner.css">

    <script src="../node_modules/@hmh/lit-element-tester/dist/browser/util.js"></script>
    <script src="../node_modules/source-map-support/browser-source-map-support.js"></script>
    <script src="../node_modules/mocha/mocha.js"></script>
    <script src="../node_modules/chai/chai.js"></script>
    <script>
        /* global mocha, sourceMapSupport */
        sourceMapSupport.install();
        mocha.setup('bdd');
    </script>
    <script type="module" src="../dist/components/drop-down.js"></script>
    <script type="module" src="../node_modules/@hmh/component-base/dist/components/response-validation.js"></script>  
</head>

<body>
    <!-- test fixtures -->
    <template id="default">
        <drop-down>
        </drop-down>
    </template>

    <template id="values-one-two-three">
        <drop-down>
            <div value="one" slot="options" class="option-item">
                one
            </div>
            <div value="two" slot="options" class="option-item">
                two
            </div>
            <div value="three" slot="options" class="option-item">
                three
            </div>
        </drop-down>
    </template>

    <template id="values-one-two-three-multiple">
            <drop-down multiple>
                <div value="one" slot="options" class="option-item">
                    one
                </div>
                <div value="two" slot="options" class="option-item">
                    two
                </div>
                <div value="three" slot="options" class="option-item">
                    three
                </div>
            </drop-down>
    </template>

    <template id="html">
        <drop-down>
            <div value="one" slot="options" class="option-item">
                <img src="https://ebird.org/content/atlasva/wp-content/uploads/sites/68/Picture-286-1024x768.jpg" alt="owl face" height="42" width="42">
            </div>
            <div value="two" slot="options" class="option-item">
                <b>two</b>
            </div>
        </drop-down>
    </template>
    
    <template id="feedback">
        <drop-down>
            <div value="one" slot="options" class="option-item">
                one
            </div>
            <div value="two" slot="options" class="option-item">
                two
            </div>
            <div value="three" slot="options" class="option-item">
                three
            </div>

            <response-validation slot="feedback" expected="one" score="4" strategy="exactMatch">
                <span>Correct</span>
            </response-validation>
        
            <response-validation slot="feedback" expected="two" score="2" feedbackType="neutral" strategy="exactMatch">
                <span>Almost Correct</span>
            </response-validation>
        
            <response-validation slot="feedback" score="0" feedback="negative" strategy="exactMatch">
                <span>Try again</span>
                <span>Oups, still not good</span>
                <span>Too bad!</span>
            </response-validation>

        </drop-down>
    </template>

    <template id="feedback-fuzzy-stategy">
        <drop-down>
            <div value="one" slot="options" class="option-item">
                one
            </div>
            <div value="two" slot="options" class="option-item">
                two
            </div>
            <div value="three" slot="options" class="option-item">
                three
            </div>

            <response-validation slot="feedback" expected="one" score="4" strategy="fuzzyMatch">
                <span>Correct</span>
            </response-validation>

        </drop-down>
    </template>

    <template id="feedback-no-strategy">
        <drop-down>
            <div value="one" slot="options" class="option-item">
                one
            </div>
            <div value="two" slot="options" class="option-item">
                two
            </div>
            <div value="three" slot="options" class="option-item">
                three
            </div>

            <response-validation class='target' slot="feedback" expected="one" score="4">
                <span>Correct</span>
            </response-validation>

        </drop-down>
    </template>    


    <div id="mocha">
        <!-- test results are displayed here -->
    </div>

    <div id="stage">
        <!-- elements under tests are displayed here -->
    </div>

    <script type="module" src="../dist/unit/drop-down.spec.js">
    </script>
</body>

</html>