<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" type="text/css" href="/node_modules/@material/button/dist/mdc.button.css">
    <script type="module" src="../dist/components/drop-down.js"></script>
    <script type="module" src="../node_modules/@hmh/response-validation/dist/components/response-validation.js"></script>
</head>

<body>
    <h3>Drop Down Demo</h3>
    <!-- basic usage -->
        <drop-down>
            <div value="one" slot="options" class="option-item">
                one
            </div>
            <div value="two" slot="options" class="option-item">
                two
            </div>
            <div value="three" slot="options" class="option-item">
                three
            </div>

            <response-validation slot="feedback" expected="one" score="4" strategy="exactMatch">
                <span>Good</span>
            </response-validation>

            <response-validation slot="feedback" score="0" feedback="negative" strategy="exactMatch">
                <span>Try again</span>
                <span>Oups, still not good</span>
                <span>Too bad!</span>
            </response-validation>

        </drop-down>

        <div id="feedback"></div>

        <button id="feedback-button" class="mdc-button">Validate</button>
    
        <script>
            document.getElementById('feedback-button').addEventListener('click', () => {
                const dropDownElement = document.querySelector('drop-down');
                const feedback = dropDownElement.getFeedback();
                const feedbackElement = document.getElementById('feedback');
                
                feedbackElement.classList.remove('feedback-negative-background');
                feedbackElement.classList.remove('feedback-positive-background');
                feedbackElement.classList.remove('feedback-neutral-background');

                dropDownElement.classList.remove('feedback-negative-border');
                dropDownElement.classList.remove('feedback-positive-border');
                dropDownElement.classList.remove('feedback-neutral-border');

                if (feedback.type === 'negative') {
                    feedbackElement.classList.add('feedback-negative-background');
                    dropDownElement.classList.add('feedback-negative-border');
                } else if (feedback.type === "positive") {
                    feedbackElement.classList.add('feedback-positive-background');
                    dropDownElement.classList.add('feedback-positive-border');
                } else if (feedback.type === "neutral") {
                    feedbackElement.classList.add('feedback-neutral-background');
                    dropDownElement.classList.add('feedback-neutral-border');
                }

                feedbackElement.innerText = JSON.stringify(feedback.message);
            })
        </script>
</body>

</html>